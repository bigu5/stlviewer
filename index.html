<!doctype html>

<head>
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <style type="text/css">
       div.stlviewer { height: 900px;
        width: 100%;
        margin: auto;
        top: 0px;
        position: absolute;
     }
    </style>
    <!-- JavaScript Bundle, Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <script type=text/javascript> 
	window.onload=function() {
		STLViewerEnable("stlviewer", "19-BLONK.stl");
	 } 

    </script>
    <script>
        function myFunction() {
        var x = document.getElementById("frame").value;
        var y = document.getElementById("color").value;
        //console.log(x)
        document.getElementById("demo").remove()
        var elemDiv = document.createElement('div');
        elemDiv.className = "stlviewer"
        elemDiv.id = "demo"
        document.body.appendChild(elemDiv);
		STLViewerEnable("stlviewer", x, y);
        }
        function color_update(){
            var color_hx = document.getElementById("color").value;
            var material = new THREE.MeshPhongMaterial({ color: color_hx, specular: 100, shininess: 65 });
            hold_frame.material = material
            
        }
    </script>
    <script src="three.js/build/three.min.js"></script>
    
    <script src="three.js/examples/js/loaders/STLLoader.js"></script>
    <script src="three.js/examples/js/loaders/GLTFLoader.js"></script>
    <script src="three.js/examples/js/controls/ArcballControls.js"></script>
    <script src="new_stlviewer.js"></script>
    <title>A Simple STL Viewer, Three.js</title>
</head>

<body style="background-color: #6A6060;">
    <div class = "card" style="width: 36rem; z-index: 1;">
    <h1 style="z-index: 2;">
        Dagger Configurator
    </h1>
    <label for="cars">Frame</label>

<select class ="form-select" name="cars" id="frame" onchange="myFunction()">
<option value="19-BLONK.STL">19-BLONK</option>
<option value="19 BIG CORAL NO MICROTEXTURE.STL">19 BIG CORAL NO MICROTEXTURE</option>
<option value="19 BIG CORAL.STL">19 BIG CORAL</option>
<option value="19 ENGRAVED NO MICROTEXTURE.STL">19 ENGRAVED NO MICROTEXTURE</option>
<option value="19 HEX NO MICROTEXTURE.STL">19 HEX NO MICROTEXTURE</option>
<option value="19 HEX.STL">19 HEX</option>
<option value="19 STANDARD NO MICROTEXTURE.STL">19 STANDARD NO MICROTEXTURE</option>
<option value="19 STANDARD.STL">19 STANDARD</option>
<option value="19 TRIANGLE NO MICOTEXTURE.STL">19 TRIANGLE NO MICOTEXTURE</option>
<option value="19 TRIPPY NO MICROTEXTURE.STL">19 TRIPPY NO MICROTEXTURE</option>
<option value="19 TRIPPY.STL">19 TRIPPY</option>
<option value="19-BIGGUS-DICKUS-BIG-CORAL.STL">19-BIGGUS-DICKUS-BIG-CORAL</option>
<option value="19-BIGGUS-DICKUS-HEX.STL">19-BIGGUS-DICKUS-HEX</option>
<option value="19-BIGGUS-DICKUS-TRIPPY.STL">19-BIGGUS-DICKUS-TRIPPY</option>
<option value="19-BLONK.STL">19-BLONK</option>
<option value="19-BUBBLES.STL">19-BUBBLES</option>
<option value="19-BUMPS.STL">19-BUMPS</option>
<option value="19-FLAME.STL">19-FLAME</option>
<option value="19_SPIRAL.STL">19_SPIRAL</option>
<option value="19_TRIAD.STL">19_TRIAD</option>
<option value="19_TRI_S.STL">19_TRI_S</option>
<option value="19_TWISTY_GRIPPY.STL">19_TWISTY_GRIPPY</option>
<option value="19_DNL.STL">dnl_dd19.2_frame</option>
<option value="FMDA19.2_1.3.STL">FMDA19.2_1.3</option>
<option value="19_INVADER_frame.STL">invader_g19_frame</option>
</select>
<br>
    <label for="slide">Slide</label>
<select class ="form-select" name="slide" id="slide" onchange="myFunction()">
    <option value="PSA_STANDARD_FDE">PSA DAGGER SLIDE ASSEMBLY, NON-THREADED BARREL, CARRY CUT, FDE</option>
    <option value="PSA_STANDARD_BLK">PSA DAGGER SLIDE ASSEMBLY, NON-THREADED BARREL, CARRY CUT, BLACK DLC</option>
    <option value="PSA_STANDARD_GRY">PSA DAGGER SLIDE ASSEMBLY, NON-THREADED BARREL, CARRY CUT, GREY</option>
    <option value="PSA_STANDARD_SGR">PSA DAGGER SLIDE ASSEMBLY, NON-THREADED BARREL, CARRY CUT, SNIPER GREEN</option>
</select>
<br>
<div class="form-row">
    <input type="color" id="color" name="head" onchange="color_update()"
           value="#FFFFFF">
    <label for="head">Frame Color</label>
    <button onclick="find_same_color()" id ="find_btn"> Find Closest PLA</button>
    </div>
<div id = "pla_link"></div>
</div>

    <div id = "demo" class=stlviewer data-src=19-BLONK.STL ></div>
</body>